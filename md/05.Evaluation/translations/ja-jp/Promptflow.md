# **Prompt Flow の紹介**

[Microsoft Prompt Flow](https://microsoft.github.io/promptflow/index.html?WT.mc_id=aiml-138114-kinfeylo) は、ユーザーが事前構築されたテンプレートとカスタムコネクタを使用して自動化されたワークフローを作成できるビジュアルワークフロー自動化ツールです。データ管理、コラボレーション、プロセスの最適化などのタスクの自動化プロセスを迅速に構築するために、開発者やビジネスアナリストが迅速に使用できるように設計されています。Prompt Flow を使用すると、ユーザーはさまざまなサービス、アプリケーション、システムを簡単に接続し、複雑なビジネスプロセスを自動化できます。

Microsoft Prompt Flow は、大規模言語モデル (LLM) を活用した AI アプリケーションのエンドツーエンドの開発サイクルを合理化するように設計されています。LLM ベースのアプリケーションのアイデア出し、プロトタイピング、テスト、評価、デプロイのいずれであっても、Prompt Flow はプロセスを簡素化し、プロダクション品質の LLM アプリを構築できるようにします。

## Microsoft Prompt Flow を使用する主な機能と利点は次のとおりです。

**インタラクティブな作成エクスペリエンス**

Prompt Flow は、フローの構造の視覚的表現を提供し、プロジェクトを簡単に理解してナビゲートできるようにします。
フローの開発とデバッグを効率的に行うためのノートブックのようなコーディング エクスペリエンスを提供します。

**プロンプトのバリアントとチューニング**

複数のプロンプト バリアントを作成して比較し、反復的な改良プロセスを促進します。さまざまなプロンプトのパフォーマンスを評価し、最も効果的なプロンプトを選択します。

**組み込みの評価フロー**
組み込みの評価ツールを使用して、プロンプトとフローの品質と有効性を評価します。
LLM ベースのアプリケーションのパフォーマンスを理解します。

**包括的なリソース**

Prompt Flow には、組み込みツール、サンプル、テンプレートのライブラリが含まれています。これらのリソースは、開発の出発点となり、創造性を刺激し、プロセスを加速します。

**コラボレーションとエンタープライズ対応の準備**

チーム コラボレーションをサポートし、複数のユーザーがプロンプト エンジニアリング プロジェクトで協力し、知識を共有し、バージョン管理を維持できるようにします。
バージョン管理を維持し、知識を効果的に共有します。開発から評価、デプロイ、監視に至るまで、プロンプト エンジニアリング プロセス全体を合理化します。

## プロンプト フローの評価

Microsoft Prompt Flow では、評価は AI モデルのパフォーマンスを評価する上で重要な役割を果たします。Prompt Flow 内で評価フローとメトリクスをカスタマイズする方法を見てみましょう。

![PFVizualise](../../../../imgs/05/PromptFlow/pfvisualize.png)

**Prompt Flow の評価の理解**

Prompt Flow では、フローは入力を処理し、出力を生成するノードのシーケンスを表します。評価フローは、特定の基準と目標に基づいて実行のパフォーマンスを評価するために設計された特別なタイプのフローです。

**評価フローの主な機能**

通常、テストされるフローの後に実行され、その出力を使用します。テストされたフローのパフォーマンスを測定するためにスコアやメトリクスを計算します。メトリクスには、精度、関連性スコア、その他の関連する測定値が含まれる場合があります。

### 評価フローのカスタマイズ

**入力の定義**

評価フローは、テストされる実行の出力を受け取る必要があります。標準フローと同様に入力を定義します。
たとえば、QnA フローを評価している場合は、入力を「回答」として名前を付けます。分類フローを評価している場合は、入力を「カテゴリ」として名前を付けます。実際のラベルなどのグラウンド トゥルース入力も必要になる場合があります。

**出力とメトリクス**

評価フローは、テストされたフローのパフォーマンスを測定する結果を生成します。メトリクスは Python または LLM (大規模言語モデル) を使用して計算できます。log_metric() 関数を使用して関連するメトリクスを記録します。

**カスタマイズされた評価フローの使用**

特定のタスクと目的に合わせた評価フローを開発します。評価目標に基づいてメトリクスをカスタマイズします。
このカスタマイズされた評価フローをバッチ実行に適用して大規模なテストを行います。

## 組み込みの評価方法

Prompt Flow には組み込みの評価方法も用意されています。
バッチ実行を送信し、これらの方法を使用してフローが大規模なデータセットでどのように機能するかを評価できます。
評価結果を表示し、メトリクスを比較し、必要に応じて反復します。
評価は、AI モデルが望ましい基準と目標を満たしていることを確認するために不可欠であることを忘れないでください。Microsoft Prompt Flow で評価フローを開発および使用する方法の詳細な手順については、公式ドキュメントを参照してください。

要約すると、Microsoft Prompt Flow は、プロンプト エンジニアリングを簡素化し、堅牢な開発環境を提供することで、開発者が高品質の LLM アプリケーションを作成できるようにします。LLM を使用している場合、Prompt Flow は探索する価値のある貴重なツールです。Microsoft Prompt Flow で評価フローを開発および使用する方法の詳細な手順については、[Prompt Flow 評価ドキュメント](https://learn.microsoft.com/azure/machine-learning/prompt-flow/how-to-develop-an-evaluation-flow?view=azureml-api-2?WT.mc_id=aiml-138114-kinfeylo) を参照してください。
